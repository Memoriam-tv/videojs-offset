/**
 * videojs-offset
 * @version 2.0.0-beta.5
 * @copyright 2018 Carles Galan Cladera <cgcladera@gmail.com>
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],e):t.videojsOffset=e(t.videojs)}(this,function(s){"use strict";s="default"in s?s["default"]:s;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},n={},t=s.registerPlugin||s.plugin,f=function f(){var t=this.currentTime();t<0&&(this.currentTime(0),this.play()),0<this._offsetEnd&&t>this._offsetEnd-this._offsetStart&&(this.pause(),this.trigger("ended"),this._restartBeginning?(this.trigger("loadstart"),this.currentTime(0)):this.currentTime(this._offsetEnd-this._offsetStart))},o=function o(t,e){t.on("timeupdate",f)},_=function _(t){var e=this;t=t||{};var r=this.constructor;this._offsetStart=parseFloat(t.start)||0,this._offsetEnd=parseFloat(t.end)||0,this._restartBeginning=t.restart_beginning||!1,r.__super__&&r.__super__.__offsetInit||(r.__super__=r.__super__||{},r.__super__=i(r.__super__,{__offsetInit:!0,duration:r.prototype.duration,currentTime:r.prototype.currentTime,bufferedPercent:r.prototype.bufferedPercent}),this.duration=function(){return 0<this._offsetEnd?this._offsetEnd-this._offsetStart:r.__super__.duration.apply(this,arguments)-this._offsetStart},this.currentTime=function(t){return t!==undefined?r.__super__.currentTime.call(this,t+this._offsetStart)-this._offsetStart:r.__super__.currentTime.apply(this,arguments)-this._offsetStart},this.startOffset=function(){return this._offsetStart},this.endOffset=function(){return 0<this._offsetEnd?this._offsetEnd:this.duration()}),this.disposeOffset=function(){r.prototype.duration=r.__super__.duration,r.prototype.currentTime=r.__super__.currentTime,r.prototype.bufferedPercent=r.__super__.bufferedPercent,e.off("timeupdate",f),r.__super__.__offsetInit=!1},this.ready(function(){o(e,s.mergeOptions(n,t))}),this.one("dispose",this.disposeOffset)};return t("offset",_),_.VERSION="__VERSION__",_});