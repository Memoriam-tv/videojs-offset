/**
 * videojs-offset
 * @version 2.0.0-beta.3
 * @copyright 2017 Carles Galan Cladera <cgcladera@gmail.com>
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],e):t.videojsOffset=e(t.videojs)}(this,function(t){"use strict";t="default"in t?t["default"]:t;var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},r={},i=function o(){var t=this.currentTime();t<0&&(this.currentTime(0),this.play()),this._offsetEnd>0&&t>this._offsetEnd-this._offsetStart&&(this.off("timeupdate",o),this.pause(),this.trigger("ended"),this._restartBeginning?(this.trigger("loadstart"),this.currentTime(0)):this.currentTime(this._offsetEnd-this._offsetStart))},s=function(t,e){t.one("play",function(){t.on("timeupdate",i)})},n=function(n){var o=this;n=n||{};var f=this.constructor;this._offsetStart=n.start||0,this._offsetEnd=n.end||0,this._restartBeginning=n.restart_beginning||!1,f.__super__&&f.__super__.__offsetInit||(f.__super__=f.__super__||{},f.__super__=e(f.__super__,{__offsetInit:!0,duration:f.prototype.duration,currentTime:f.prototype.currentTime,bufferedPercent:f.prototype.bufferedPercent}),f.prototype.duration=function(){return this._offsetEnd>0?this._offsetEnd-this._offsetStart:f.__super__.duration.apply(this,arguments)-this._offsetStart},f.prototype.currentTime=function(t){return t!==undefined?f.__super__.currentTime.call(this,t+this._offsetStart)-this._offsetStart:f.__super__.currentTime.apply(this,arguments)-this._offsetStart},f.prototype.startOffset=function(){return this._offsetStart},f.prototype.endOffset=function(){return this._offsetEnd>0?this._offsetEnd:this.duration()}),this.disposeOffset=function(){f.prototype.duration=f.__super__.duration,f.prototype.currentTime=f.__super__.currentTime,f.prototype.bufferedPercent=f.__super__.bufferedPercent,o.off("timeupdate",i),f.__super__.__offsetInit=!1},this.ready(function(){s(o,t.mergeOptions(r,n))}),this.one("dispose",this.disposeOffset)};return(t.registerPlugin||t.plugin)("offset",n),n.VERSION="__VERSION__",n});